(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67836610"],{"99af":function(t,a,e){"use strict";var n=e("23e7"),o=e("d039"),i=e("e8b5"),s=e("861d"),r=e("7b0b"),c=e("50c4"),l=e("8418"),d=e("65f0"),u=e("1dde"),m=e("b622"),p=e("2d00"),h=m("isConcatSpreadable"),f=9007199254740991,g="Maximum allowed index exceeded",v=p>=51||!o((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),b=u("concat"),_=function(t){if(!s(t))return!1;var a=t[h];return void 0!==a?!!a:i(t)},x=!v||!b;n({target:"Array",proto:!0,forced:x},{concat:function(t){var a,e,n,o,i,s=r(this),u=d(s,0),m=0;for(a=-1,n=arguments.length;a<n;a++)if(i=-1===a?s:arguments[a],_(i)){if(o=c(i.length),m+o>f)throw TypeError(g);for(e=0;e<o;e++,m++)e in i&&l(u,m,i[e])}else{if(m>=f)throw TypeError(g);l(u,m++,i)}return u.length=m,u}})},a434:function(t,a,e){"use strict";var n=e("23e7"),o=e("23cb"),i=e("a691"),s=e("50c4"),r=e("7b0b"),c=e("65f0"),l=e("8418"),d=e("1dde"),u=e("ae40"),m=d("splice"),p=u("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,f=Math.min,g=9007199254740991,v="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!m||!p},{splice:function(t,a){var e,n,d,u,m,p,b=r(this),_=s(b.length),x=o(t,_),w=arguments.length;if(0===w?e=n=0:1===w?(e=0,n=_-x):(e=w-2,n=f(h(i(a),0),_-x)),_+e-n>g)throw TypeError(v);for(d=c(b,n),u=0;u<n;u++)m=x+u,m in b&&l(d,u,b[m]);if(d.length=n,e<n){for(u=x;u<_-n;u++)m=u+n,p=u+e,m in b?b[p]=b[m]:delete b[p];for(u=_;u>_-n+e;u--)delete b[u-1]}else if(e>n)for(u=_-n;u>x;u--)m=u+n-1,p=u+e-1,m in b?b[p]=b[m]:delete b[p];for(u=0;u<e;u++)b[u+x]=arguments[u+2];return b.length=_-n+e,d}})},c740:function(t,a,e){"use strict";var n=e("23e7"),o=e("b727").findIndex,i=e("44d2"),s=e("ae40"),r="findIndex",c=!0,l=s(r);r in[]&&Array(1)[r]((function(){c=!1})),n({target:"Array",proto:!0,forced:c||!l},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i(r)},c93e:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("h1",[t._v("Notas")]),e("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",variant:t.mensaje.color},on:{dismissed:function(a){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.mensaje.texto)+" ")]),t.editar?t._e():e("form",{on:{submit:function(a){return a.preventDefault(),t.agregarNota()}}},[e("h3",[t._v("Agregar nueva nota")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nota.nombre,expression:"nota.nombre"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Nombre"},domProps:{value:t.nota.nombre},on:{input:function(a){a.target.composing||t.$set(t.nota,"nombre",a.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nota.descripcion,expression:"nota.descripcion"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Descripci칩n"},domProps:{value:t.nota.descripcion},on:{input:function(a){a.target.composing||t.$set(t.nota,"descripcion",a.target.value)}}}),e("b-button",{staticClass:"btn-success my-2 btn-block",attrs:{type:"submit"}},[t._v("Agregar")])],1),t.editar?e("form",{on:{submit:function(a){return a.preventDefault(),t.editarNota(t.notaEditar)}}},[e("h3",[t._v("Editar nota")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.notaEditar.nombre,expression:"notaEditar.nombre"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Nombre"},domProps:{value:t.notaEditar.nombre},on:{input:function(a){a.target.composing||t.$set(t.notaEditar,"nombre",a.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.notaEditar.descripcion,expression:"notaEditar.descripcion"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Descripci칩n"},domProps:{value:t.notaEditar.descripcion},on:{input:function(a){a.target.composing||t.$set(t.notaEditar,"descripcion",a.target.value)}}}),e("b-button",{staticClass:"btn-warning my-2 mx-2",attrs:{type:"submit"}},[t._v("Editar")]),e("b-button",{staticClass:"my-2",on:{click:function(a){t.editar=!1}}},[t._v("Cancelar")])],1):t._e(),e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.notas,(function(a,n){return e("tr",{key:n},[e("th",{attrs:{scope:"row"}},[t._v(t._s(a._id))]),e("td",[t._v(t._s(a.nombre))]),e("td",[t._v(t._s(a.descripcion))]),e("td",[t._v(t._s(a.date))]),e("td",[e("b-button",{staticClass:"btn-warning btn-sm mx-2",on:{click:function(e){return t.activarEdicion(a._id)}}},[t._v(" Editar ")]),e("b-button",{staticClass:"btn-danger btn-sm",on:{click:function(e){return t.eliminarNota(a._id)}}},[t._v(" Eliminar ")])],1)])})),0)]),e("nav",{attrs:{"aria-label":"Page navigation example"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:{disabled:1===t.paginaActual}},[e("router-link",{staticClass:"page-link",attrs:{to:{query:{pagina:t.paginaActual-1}}}},[t._v("Anterior")])],1),t._l(t.cantidadPaginas,(function(a,n){return e("li",{key:n,staticClass:"page-item",class:{active:t.paginaActual===n+1}},[e("router-link",{staticClass:"page-link",attrs:{to:{query:{pagina:n+1}}}},[t._v(t._s(n+1))])],1)})),e("li",{staticClass:"page-item",class:{disabled:t.paginaActual===t.cantidadPaginas}},[e("router-link",{staticClass:"page-link",attrs:{to:{query:{pagina:t.paginaActual+1}}}},[t._v("Siguiente")])],1)],2)]),e("p",[t._v("Total notas: "+t._s(t.totalNotas)+" - Cantidad de p치ginas: "+t._s(t.cantidadPaginas))])],1)},o=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),e("th",{attrs:{scope:"col"}},[t._v("Nombre")]),e("th",{attrs:{scope:"col"}},[t._v("Descripci칩n")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha")]),e("th",{attrs:{scope:"col"}},[t._v("Acciones")])])])}],i=(e("99af"),e("c740"),e("a434"),e("5530")),s=e("2f62"),r={data:function(){return{totalNotas:0,limite:5,paginaActual:1,notas:[],mensaje:{color:"",texto:""},dismissSecs:5,dismissCountDown:0,nota:{nombre:"",descripcion:""},editar:!1,notaEditar:{}}},watch:{"$route.query.pagina":{immediate:!0,handler:function(t){t=parseInt(t)||1,this.paginacion(t),this.paginaActual=t}}},computed:Object(i["a"])({},Object(s["d"])(["token"]),{cantidadPaginas:function(){return Math.ceil(this.totalNotas/this.limite)}}),methods:{paginacion:function(t){var a=this,e={headers:{token:this.token}},n=(t-1)*this.limite;this.axios.get("/notas?skip=".concat(n,"&limit=").concat(this.limite),e).then((function(t){a.notas=t.data.notasDB,a.totalNotas=t.data.totalNotas})).catch((function(t){console.log(t.response)}))},listarNotas:function(){var t=this,a={headers:{token:this.token}};this.axios.get("/notas",a).then((function(a){t.notas=a.data.notaDB})).catch((function(t){console.log(t.response)}))},countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs},agregarNota:function(){var t=this,a={headers:{token:this.token}};this.axios.post("/nueva-nota",this.nota,a).then((function(a){t.notas.push(a.data),t.nota.nombre="",t.nota.descripcion="",t.mensaje.color="success",t.mensaje.texto="Nota agregada!",t.showAlert()})).catch((function(a){console.log(a.response),a.response.data.error.errors.nombre.message?t.mensaje.texto=a.response.data.error.errors.nombre.message:t.mensaje.texto="Error de sistema",t.mensaje.color="danger",t.showAlert()}))},eliminarNota:function(t){var a=this;this.axios.delete("/nota/".concat(t)).then((function(t){var e=a.notas.findIndex((function(a){return a._id===t.data._id}));a.notas.splice(e,1),a.mensaje.color="success",a.mensaje.texto="Nota eliminada!",a.showAlert()})).catch((function(t){console.log(t.response)}))},activarEdicion:function(t){var a=this;this.editar=!0,this.axios.get("/nota/".concat(t)).then((function(t){a.notaEditar=t.data})).catch((function(t){console.log(t.response)}))},editarNota:function(t){var a=this;this.axios.put("/nota/".concat(t._id),t).then((function(t){var e=a.notas.findIndex((function(a){return a._id===t.data._id}));a.notas[e].nombre=t.data.nombre,a.notas[e].descripcion=t.data.descripcion,a.mensaje.color="success",a.mensaje.texto="Nota editada!",a.showAlert(),a.editar=!1})).catch((function(t){console.log(t.response)}))},alerta:function(){this.mensaje.color="success",this.mensaje.texto="Probando alerta...",this.showAlert()}}},c=r,l=e("2877"),d=Object(l["a"])(c,n,o,!1,null,null,null);a["default"]=d.exports}}]);
//# sourceMappingURL=chunk-67836610.c2952baa.js.map